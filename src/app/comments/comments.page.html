<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Yorumlar</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div style="height: 93%;width: 100%;overflow-y: scroll;overflow-x: hidden;">
    <div *ngFor="let comment of postComments" class="comment-card mb-3 p-2">
      <!-- Comment Body Start -->
      <div>
        <div class="col-md-12 mb-4" style="display: flex;justify-content: start;align-items: center;">
          <img [src]="baseUrl+comment.user.profilePhoto" class="post_kullanici_photo" alt="...">
        </div>
        <div>
          <div>
            <span class="comment-card-username">{{comment.user.username}}</span>&nbsp;{{comment.comment}}
          </div>
          <div>
            <div></div>
            <div>{{getDate(comment.createdDate)}}</div>
            <div>
              <ion-label color="danger">
                <span *ngIf="comment.commentLikes" color="danger">{{comment.commentLikes.length}}</span>
                <span *ngIf="!comment.commentLikes" color="danger">0</span>
                beğenme
              </ion-label>
            </div>
          </div>
        </div>
        <div>
          <a style="font-size: 20px;" (click)="commentLike(comment)">
            <ion-icon style="transition: font-size .5s;" id="commentlike{{comment.id}}_1" *ngIf="!comment.isClickHeart"
              name="heart-outline">
            </ion-icon>
            <ion-icon style="transition: font-size .5s;" id="commentlike{{comment.id}}_2" *ngIf="comment.isClickHeart"
              class="text-danger" name="heart"></ion-icon>
          </a>
        </div>
      </div>
      <!-- Comment Body End -->
      <!-- Show answer buttons Start -->
      <div>
        <div></div>
        <div>
          <span (click)="getAnswers(comment)"
            *ngIf="!(comment.isClickShowAnswer) && comment.commentAnswersCount != 0">{{comment.commentAnswersCount}}
            yanıtı
            gör&nbsp;<ion-icon name="chevron-down-outline"></ion-icon>
          </span>
          <span *ngIf="comment.commentAnswersCount == 0">henüz yanıt yok</span>
          <span (click)="getAnswers(comment)" *ngIf="comment.isClickShowAnswer">yanıtları gizle&nbsp;<ion-icon
              name="chevron-up-outline"></ion-icon>
          </span>
        </div>
      </div>
      <!-- Show answer buttons End -->
      <!-- Answers Start -->
      <div>
        <div *ngFor="let answer of comment.commentAnswers" class="comment-card">
          <div>
            <div class="col-md-12 mb-4" style="display: flex;justify-content: start;align-items: center;">
              <img [src]="baseUrl+answer.user.profilePhoto" class="post_kullanici_photo" alt="...">
            </div>
            <div>
              <div style="padding-left: 5px;">
                <span class="comment-card-username">{{answer.user.username}}</span>&nbsp;{{answer.answer}}
              </div>
              <div>
                <div></div>
                <div>{{getDate(answer.createdDate)}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Answers End -->
    </div>
  </div>
  <div id="bottom-bar">
    <img width="35" height="35" style="border-radius: 50%;" [src]="baseUrl+user.profilePhoto" [alt]="user.username">
    <ion-input id="doComment" style="width: 80%;"></ion-input>
    <ion-button style="width: 20%;" (click)="sendComment()" fill="clear" shape="round">
      <ion-icon name="send-outline"></ion-icon>
    </ion-button>
  </div>

</ion-content>
